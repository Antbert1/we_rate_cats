{"version":3,"sources":["actions/index.js","components/Button.js","components/Header.js","components/Loading.js","pages/index.js","assets/images/blankCat.png","pages/upload.js","assets/images/backChevron.png","App.js","reportWebVitals.js","reducers/index.js","store.js","registerServiceWorker.js","index.js"],"names":["CAT_LIST","setCatList","catList","type","Button","className","to","this","props","text","Component","Header","root","Loading","preUrl","App","state","loading","errorMsg","self","requestOptions","method","headers","fetch","then","response","json","responseJson","undefined","length","setState","actions","removeDuplicates","addFavouritesAndVotes","catch","error","console","log","myArr","prop","filter","obj","pos","arr","map","mapObj","indexOf","cat","catID","id","bodyToSend","sub_id","body","JSON","stringify","message","addFavourite","favouriteID","removeFavourite","vote","addVote","ids","newCatList","o","favourite","votes","i","j","value","faveID","voteID","index","src","url","onClick","unfavourite","renderCat","connect","dataReducer","dispatch","bindActionCreators","Actions","Upload","fileToUpload","imageSource","defaultImg","saveButton","file","refs","files","reader","FileReader","readAsDataURL","onloadend","e","result","bind","formData","FormData","append","name","approved","history","push","htmlFor","ref","accept","onChange","_onChange","submit","exact","path","component","RootPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","dataState","rootReducer","combineReducers","action","Object","assign","store","createStore","reducers","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","status","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.563ddd56.chunk.js","sourcesContent":["export const CAT_LIST = 'CAT_LIST';\n\n// Store the cat list to save having to do multiple API calls\nexport function setCatList(catList) {\n  return {\n      type: 'CAT_LIST',\n      catList\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../App.css';\n\nclass Button extends Component {\n\n  render() {\n    return (\n      <div className=\"buttonStyle\">\n        <Link to=\"/upload\">{this.props.text}</Link>\n      </div>\n      )\n  }\n}\n\nexport default Button;\n","// Shared header component for app. Only show the upload button on the root page. Passes in a prop 'root' to test this\n\nimport React, { Component } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport Button from '../components/Button';\nimport '../App.css';\n\nclass Header extends Component {\n  render() {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <div className=\"topNav\">\n            <h1 className=\"customHeader\">\n              Beautiful Cats\n            </h1>\n            {this.props.root &&\n              <div className=\"upload\">\n                <Button text=\"UPLOAD NEW CAT\" />\n              </div>\n            }\n          </div>\n          <div className=\"divider\"></div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Header;\n","//Loading spinner that displays when app is busy\nimport React, { Component } from 'react';\n\nclass Loading extends Component {\n\n  render() {\n    return (\n      <div className=\"loading\">\n        <div className=\"loader\"></div>\n      </div>\n    )\n  }\n}\n\nexport default Loading;\n","//Root page of app that shows a list of cats and allows voting and favouriting\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as Actions from '../actions';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Button from '../components/Button';\nimport Loading from '../components/Loading';\nimport '../App.css';\nconst preUrl = 'https://api.thecatapi.com';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    // Set a loading state to show a spinner while we retrieve cats\n    this.state = {\n      loading: true,\n      errorMsg: false\n    }\n  }\n\n  componentDidMount() {\n    var self = this;\n    const requestOptions = {\n        method: 'GET',\n        headers: { 'x-api-key': '45d49036-1938-44e2-b443-af805aeb55fb'}\n    };\n\n    // Retrieve the list of cats, the favourites, and the votes, in a chain\n    fetch(`${preUrl}/v1/images?limit=100`, requestOptions)\n        .then(response => response.json())\n        .then((responseJson)=> {\n          if (responseJson.length == undefined) {\n            //An error has occured\n            self.setState({\n              loading: false,\n              errorMsg: true\n            });\n          } else {\n            // Set these cats in the reducer\n            self.props.actions.setCatList(self.removeDuplicates(responseJson, \"sub_id\"));\n            //Get favourites and cross reference\n            fetch(`${preUrl}/v1/favourites?limit=100`, requestOptions)\n                .then(response => response.json())\n                .then((responseJson)=> {\n                  if (responseJson.length == undefined) {\n                    //An error has occured\n                    self.setState({\n                      loading: false,\n                      errorMsg: true\n                    });\n                  } else {\n                    //Add favourites here using type 0\n                    self.addFavouritesAndVotes(responseJson, 0);\n\n                    //Get the votes\n                    fetch(`${preUrl}/v1/votes?limit=100`, requestOptions)\n                        .then(response => response.json())\n                        .then((responseJson)=> {\n                          if (responseJson.length == undefined) {\n                            //An error has occured\n                            self.setState({\n                              loading: false,\n                              errorMsg: true\n                            });\n                          } else {\n                            //Add votes to reducer using type 1\n                            self.addFavouritesAndVotes(responseJson, 1);\n                            self.setState({\n                              loading: false\n                            });\n                          }\n                        })\n                        .catch((error) => {\n                          self.setState({\n                            loading: false\n                          });\n                          console.log(error);\n                        });\n\n\n                    self.setState({\n                      loading: false\n                    });\n                  }\n                })\n                .catch((error) => {\n                  self.setState({\n                    loading: false\n                  });\n                  console.log(error);\n                });\n          }\n        })\n        .catch((error) => {\n          self.setState({\n            loading: false\n          });\n          console.log(error);\n        });\n  }\n\n\n  //Remove duplicates from cat list\n  removeDuplicates(myArr, prop) {\n    return myArr.filter((obj, pos, arr) => {\n        return arr.map(mapObj => mapObj[prop]).indexOf(obj[prop]) === pos;\n    });\n  }\n\n  favourite(cat) {\n    //Post to favourite endpoint with selected ID\n    this.setState({\n      loading: true\n    });\n    var self = this;\n    //Use cat in response\n    var catID = cat.id;\n    var bodyToSend = {\n      \"image_id\": cat.id,\n      \"sub_id\": cat.sub_id\n    }\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'content-type': 'application/json', 'x-api-key': '45d49036-1938-44e2-b443-af805aeb55fb'},\n        body: JSON.stringify(bodyToSend)\n    };\n    fetch(`${preUrl}/v1/favourites`, requestOptions)\n        .then(response => response.json())\n        .then((responseJson)=> {\n          if (responseJson.message == 'SUCCESS') {\n            //Sort out favourites in reducer\n            self.addFavourite(catID, responseJson.id);\n          }\n          self.setState({\n            loading: false\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n          self.setState({\n            loading: false\n          });\n        });\n  }\n\n  unfavourite(cat) {\n    //Delete favourite from endpoint with selected ID\n    this.setState({\n      loading: true\n    });\n    var self = this;\n    //Use cat in response\n    var catID = cat.favouriteID;\n    const requestOptions = {\n        method: 'DELETE',\n        headers: { 'x-api-key': '45d49036-1938-44e2-b443-af805aeb55fb'}\n    };\n    fetch(`${preUrl}/v1/favourites/${catID}`, requestOptions)\n        .then(response => response.json())\n        .then((responseJson)=> {\n          if (responseJson.message == 'SUCCESS') {\n            //Sort out favourites in reducer\n            self.removeFavourite(catID);\n          }\n          self.setState({\n            loading: false\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n          self.setState({\n            loading: false\n          });\n        });\n  }\n\n  vote(cat, vote) {\n    //vote is either 1 or 0, to vote up or down\n    this.setState({\n      loading: true\n    });\n    var self = this;\n    //Use cat in response\n    var catID = cat;\n    var bodyToSend = {\n      \"image_id\": cat.id,\n      \"sub_id\": cat.sub_id,\n      \"value\": vote\n    }\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'content-type': 'application/json', 'x-api-key': '45d49036-1938-44e2-b443-af805aeb55fb'},\n        body: JSON.stringify(bodyToSend)\n    };\n    fetch(`${preUrl}/v1/votes`, requestOptions)\n        .then(response => response.json())\n        .then((responseJson)=> {\n          if (responseJson.message == 'SUCCESS') {\n            //Sort out votes in reducer\n            self.addVote(catID, responseJson.id, vote);\n          }\n          self.setState({\n            loading: false\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n          self.setState({\n            loading: false\n          });\n        });\n  }\n\n  addFavouritesAndVotes(ids, type) {\n    //Cross reference id list with cat list and add favourite and votes fields\n    let newCatList = this.props.catList;\n    if (type == 0) {\n      newCatList.map(o => o.favouriteID = null);\n      newCatList.map(o => o.favourite = false);\n    } else {\n      newCatList.map(o => o.votes = 0);\n    }\n    for (var i = 0; i < newCatList.length; i++) {\n      for (var j = 0; j < ids.length; j++) {\n        if (newCatList[i].sub_id == ids[j].sub_id) {\n          //If it's type 0, add a favourite\n          if (type == 0) {\n            newCatList[i].favouriteID = ids[j].id;\n            newCatList[i].favourite = true;\n          } else {\n            newCatList[i].votes = ids[j].value;\n          }\n\n        }\n      }\n    }\n    this.props.actions.setCatList(newCatList);\n  }\n\n  addFavourite(catID, faveID) {\n    //Add this to our favourites list\n    let newCatList = this.props.catList;\n    for (var i = 0; i < newCatList.length; i++) {\n      if (newCatList[i].id == catID) {\n        newCatList[i].favouriteID = faveID;\n        newCatList[i].favourite = true;\n      }\n    }\n    this.props.actions.setCatList(newCatList);\n  }\n\n  removeFavourite(id) {\n    //Cross reference id list with cat list and remove the favourite field\n    let newCatList = this.props.catList;\n    for (var i = 0; i < newCatList.length; i++) {\n      if (newCatList[i].favouriteID == id) {\n        newCatList[i].favouriteID = null;\n        newCatList[i].favourite = false;\n      }\n    }\n    this.props.actions.setCatList(newCatList);\n  }\n\n  addVote(cat, voteID, type) {\n    //Add new vote to reducer\n    let newCatList = this.props.catList;\n\n    for (var i = 0; i < newCatList.length; i++) {\n      if (newCatList[i].id == cat.id) {\n        if (type == 1) {\n          newCatList[i].votes = 1;\n        } else {\n          newCatList[i].votes = 0;\n        }\n      }\n    }\n    this.props.actions.setCatList(newCatList);\n  }\n\n  renderCat(cat, index) {\n    return (\n      <div key={index} className=\"catContainer\" >\n        <div className=\"innerContainer\">\n          <img src={cat.url}/>\n          <div className=\"extraInfo\">\n            {cat.favourite ?\n              <i className=\"fas fa-heart heart\" onClick={()=>this.unfavourite(cat)}></i>\n              :\n              <i className=\"far fa-heart heart\" onClick={()=>this.favourite(cat)}></i>\n            }\n            <div className=\"votes\">\n              <i className=\"fas fa-arrow-up voteArrow voteArrowU\" onClick={()=>this.vote(cat, 1)}></i>\n              <i className=\"fas fa-arrow-down voteArrow voteArrowD\" onClick={()=>this.vote(cat, 0)}></i>\n              <div className=\"totalVotes\">\n                {cat.votes}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.loading &&\n          <Loading />\n        }\n        <div className=\"container\">\n          <Header root />\n          {this.state.errorMsg &&\n            <div className=\"catRetrievalError\">\n              <div>\n                There has been a problem retrieving your cats. Please check your internet connection and try again\n              </div>\n            </div>\n          }\n          {(this.props.catList.length == 0 && !this.state.loading) ?\n            <div className=\"catRetrievalError\">\n              <div>\n                No cats yet. Click on Upload New Cat to get started\n              </div>\n            </div>\n            :\n            <div className=\"catRows\">\n              {this.props.catList.map((cat, index) => (\n                this.renderCat(cat, index)\n              ))}\n            </div>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        catList: state.dataReducer.catList,\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return { actions: bindActionCreators(Actions, dispatch) }\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(App);\n","export default \"data:image/png;base64,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\"","//Upload page of app that allows you to upload a cat image from  your computer\n\nimport React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport defaultImg from '../assets/images/blankCat.png';\nimport back from '../assets/images/backChevron.png';\nconst preUrl = 'https://api.thecatapi.com';\n\nclass Upload extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      fileToUpload: \"\",\n      loading: false,\n      imageSource: defaultImg,\n      saveButton: false,\n      errorMsg: null\n    }\n  }\n\n  _onChange() {\n    // Preview the image\n    var file = this.refs.file.files[0];\n    // Check an image has been uploaded\n    if (this.refs.file.files.length > 0) {\n      var reader = new FileReader();\n      var url = reader.readAsDataURL(file);\n      //Save this new image in the state\n      reader.onloadend = function (e) {\n        this.setState({\n            imageSource: [reader.result],\n            saveButton: true,\n            fileToUpload: file,\n            errorMsg: null\n        })\n       }.bind(this);\n    }\n  }\n\n  submit() {\n    //Need to be able to use 'this' within the fetch response\n    var self = this;\n    //Start loading spinner\n    self.setState({\n      loading: true\n    });\n\n    //Create form data for sending to endpoint\n    const formData = new FormData();\n    formData.append(\"file\", this.state.fileToUpload);\n    formData.append(\"sub_id\", this.state.fileToUpload.name);\n\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'x-api-key': '45d49036-1938-44e2-b443-af805aeb55fb'},\n        body: formData\n    };\n    fetch(`${preUrl}/v1/images/upload`, requestOptions)\n        .then(response => response.json())\n        .then((responseJson)=> {\n          if (responseJson.approved !== 1) {\n            //If the upload fails, set state to display an error message\n            self.setState({\n              fileToUpload: \"\",\n              loading: false,\n              imageSource: defaultImg,\n              saveButton: false,\n              errorMsg: responseJson.message\n            });\n          } else {\n            //If success, go back to the homepage\n            this.props.history.push('/');\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n          self.setState({\n            fileToUpload: \"\",\n            loading: false,\n            imageSource: defaultImg,\n            saveButton: false,\n            errorMsg: error\n          });\n        });\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.loading &&\n          <Loading />\n        }\n        <div className=\"container\">\n          <Header root={false} />\n          <img src={back} className=\"backChevron\" onClick={()=>this.props.history.push('/')} />\n          <div className=\"catImage\">\n            <img src={this.state.imageSource} />\n          </div>\n          <div className=\"uploaderContent\">\n            <label htmlFor=\"image-upload\" className=\"customImgUpload buttonStyle\">\n              UPLOAD CAT\n            </label>\n          </div>\n          <input\n            ref=\"file\"\n            type=\"file\"\n            id=\"image-upload\"\n            name=\"imageFile\"\n            accept=\"image/jpeg, image/png\"\n            onChange={()=>this._onChange()}\n            className=\"defaultInput\"\n          />\n          <div className=\"save\">\n            <div\n              className={\"saveBtn \" + (this.state.saveButton ? 'activeSave' : 'inactiveSave')}\n              onClick={()=>this.submit()}\n              >\n              SAVE\n            </div>\n          </div>\n          {this.state.errorMsg !== null &&\n            <div className=\"errorMsg\">\n              {this.state.errorMsg}\n            </div>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Upload;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAWCAYAAAAb+hYkAAAAAXNSR0IArs4c6QAAAcBJREFUOBGNlE1LAmEQx/flsCh02CKli3hsXcUW0YtEBxOEErp0kKhr1859ib5BRR2tCCqQFurgJQIhUNiL9w08hJc8LLv2n7URt3zZgXF9Zub3/J9nnFUQQlo6ndZyudwalYthGF3XNzzPexZFsQ8vyYsgAIXhcGiibgW+DM/OVUqlUpsAnlC4BBegYkUikZJEi2mGO5QRb8AZ+FAUZavVatlTlXCkKu5QB6DQhlB4l2W50m63v2j9TwlH2seRbpFjoKmq6jYDBAWUoHAEhXPEuUFmNBrdw5G+qZhtrASFYwCXSPgAjvSQTCarfwECfSUonAA4owAZgDq6dADAGUWCnxIUTicBpK+wSW0WQPj4eLyXJEmBe3J88in3er1mPB7vo2MVSuCZRUxLJBL3tm17k8X83b80it5isdgngjtwUtIdxzHy+fxdt9t1uZifgaNomnaIxAU8XMtpF8uyrtG5Gpy7Vh4MBo1iseiPEtWQBZRGIUHA3O26rnuDNU/F/DEisNPpPGLWqlD0JwHNKWCTV8MwVik/VYkSZLNejbkQgfih6SVswFVaQ/1lIfQLZjE1JgD/dadYKMtkMuv8x/IDRXKnhHluLVwAAAAASUVORK5CYII=\"","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Link,\n  Redirect\n} from 'react-router-dom';\n//Pages\nimport RootPage from './pages';\nimport Upload from './pages/upload';\nimport * as Actions from './actions';\n\nclass App extends Component {\n  //Use root app to deal with navigation\n  render() {\n    return (\n      <Router>\n        <Route exact path=\"/\" component={RootPage} />\n        <Route exact path=\"/upload\" component={Upload} />\n      </Router>\n    )\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        catList: state.dataReducer.catList,\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return { actions: bindActionCreators(Actions, dispatch) }\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from 'redux';\nimport {\n    CAT_LIST\n} from '../actions';\n\nconst dataState = {\n    catList: []\n}\n\nconst dataReducer = (state = dataState, action) => {\n    switch (action.type) {\n        case CAT_LIST:\n            state = Object.assign({}, state, {catList: action.catList});\n            return state;\n        default:\n            return state;\n    }\n}\n\nconst rootReducer = combineReducers({\n    dataReducer\n});\n\nexport default rootReducer;\n","import { createStore } from 'redux';\nimport reducers from './reducers/index';\n\nconst store = createStore(reducers);\nexport { store };\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n      // [::1] is the IPv6 localhost address.\n      window.location.hostname === '[::1]' ||\n      // 127.0.0.1/8 is considered localhost for IPv4.\n      window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n      )\n  );\n  \n  export default function register() {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n      // The URL constructor is available in all browsers that support SW.\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n      if (publicUrl.origin !== window.location.origin) {\n        // Our service worker won't work if PUBLIC_URL is on a different origin\n        // from what our page is served on. This might happen if a CDN is used to\n        // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n        return;\n      }\n  \n      window.addEventListener('load', () => {\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n  \n        if (isLocalhost) {\n          // This is running on localhost. Lets check if a service worker still exists or not.\n          checkValidServiceWorker(swUrl);\n  \n          // Add some additional logging to localhost, pointing developers to the\n          // service worker/PWA documentation.\n          navigator.serviceWorker.ready.then(() => {\n            console.log(\n              'This web app is being served cache-first by a service ' +\n                'worker. To learn more, visit https://goo.gl/SC7cgQ'\n            );\n          });\n        } else {\n          // Is not local host. Just register service worker\n          registerValidSW(swUrl);\n        }\n      });\n    }\n  }\n  \n  function registerValidSW(swUrl) {\n    navigator.serviceWorker\n      .register(swUrl)\n      .then(registration => {\n        registration.onupdatefound = () => {\n          const installingWorker = registration.installing;\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a \"New content is\n                // available; please refresh.\" message in your web app.\n                console.log('New content is available; please refresh.');\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // \"Content is cached for offline use.\" message.\n                console.log('Content is cached for offline use.');\n              }\n            }\n          };\n        };\n      })\n      .catch(error => {\n        console.error('Error during service worker registration:', error);\n      });\n  }\n  \n  function checkValidServiceWorker(swUrl) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n      .then(response => {\n        // Ensure service worker exists, and that we really are getting a JS file.\n        if (\n          response.status === 404 ||\n          response.headers.get('content-type').indexOf('javascript') === -1\n        ) {\n          // No service worker found. Probably a different app. Reload the page.\n          navigator.serviceWorker.ready.then(registration => {\n            registration.unregister().then(() => {\n              window.location.reload();\n            });\n          });\n        } else {\n          // Service worker found. Proceed as normal.\n          registerValidSW(swUrl);\n        }\n      })\n      .catch(() => {\n        console.log(\n          'No internet connection found. App is running in offline mode.'\n        );\n      });\n  }\n  \n  export function unregister() {\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.ready.then(registration => {\n        registration.unregister();\n      });\n    }\n  }\n  ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store.js\";\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>, document.getElementById('root'));\nregisterServiceWorker();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}